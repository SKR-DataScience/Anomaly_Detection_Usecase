# 신용불량 고객 탐지

> ## 문제 정의
- 대출 마케팅 대상 찾기
- 조건: 신용점수가 높고 대출상환이 높은 고객
    - 단, 신용점수 조회를 클릭한 고객에 한해 신용점수 데이터 수집 가능


> ## 보유 데이터 & 특징

|구분|컬럼 구성|비고|
|:---|:---|:---|
|예측 타겟|신용점수| 신용점수 범위 0~1000, 신용점수 값이 없는 데이터가 많음|
|가입정보|고객ID, 대출ID||
|대출|대출상태, 대출목적, 현재 대출잔액, 대출기간||
|고객 프로필|연수입, 직업연차, 자가여부, 유효계좌수||
|신용정보|신용기록, 현재신용한도, 최대신용한도|신용기록: 신용기록 햇수|
|연체|마지막 연체이후 개월 수||
|기타|신용불량건수, 파산여부, 세금유치권||

> ## 성과 측정
- 모델 활용 전/후 마케팅 수익률 증감 비교
- 모델 활용 전/후 마케팅 대상 대출 성사 건수/율(%) 비교
- 주의사항: 성과 비교 시 스케일 맞출 것, 건수 차이가 크면 비율로 비교

> ## 데이터 처리 주의사항
- NULL이 많음
    - 함부로 데이터 제거하거나 보간해서는 안됨
    - 데이터 제거시 제외 논리가 필요하고 예컨대 Null을 0으로 보간시 현업과 Null 발생원인을 논의하고 협의 후 보간
- 데이터 범주 오류
    - 신용평가점수는 1000점 상한이 있음, 그 이상은 데이터 오류

> ##  알고리즘 선택
- 아래 세 가지 방법 중 RRCF가 가장 성능이 좋지 않음
- 데이터 별 필요한 모델의 복잡도가 다름, 무조건 최신, 복잡한 모델이 잘 맞지는 않음

1. 마할라노비스 거리 이상 탐지
```
  # [good] 데이터의 분포를 고려한 이상치 탐지 가능 
  # [good] 비선형 관계의 데이터에 활용 가능
  # [good] 데이터에 자체에 대한 가정이 필요 없음
  # [bad] 변수간의 관계가 모두 독립이라면 유클리드 거리와 같은 개념
  # [bad] 변수간의 상관성이 명확이 알려져 있지 않은 경우 적용하기 어려움
```

2. Isoaltion Forest
```
  # [good] 군집기반 이상탐지 알고리즘에 비해 계산량이 매우 적음 (※ Sampling 사용 Tree 생성)
  # [good] Anomaly Detection 성능 우수 (※ Robust)
  # [good] Train data에 이상치가 포함되지 않아도 잘 동작함 
  # [bad] 분리를 위한 선을 수직과 수평으로만 자르기 때문에 잘못된 scoring이 발생할 수 있음 (※ 대안책 Extended Isolation Forest)
```

3. RRCF(Robust Random Cut Forest)
```
  # [good] 분포가 변화하는 Streaming data에 유리함
  # [good] Batch 및 Streaming data 모두 활용 가능
  # [good] Subsampling을 통한 연산량 감소
  # [good] 보이지 않던 희귀 값 (Activity when usually none)
  # [bad] 분리를 위한 선을 수직과 수평으로만 자르기 때문에 잘못된 scoring이 발생할 수 있음
```

> ## 해당 강의 회차 종합 평가
- 강의의 데이터 분석 플로우가 잘못 되었다고 생각함
- 신용평가점수를 타겟으로 설정하고 신용평가점수를 예측해서 지도 학습으로 진행했는데, 과제의 목적은 마케팅 대상을 찾는 것이다. 과제의 논리라면, 높은 신용점수를 가진 고객ID만 추출하면 끝날 일이다.
- 대안: 궁극적으로 상환 능력이 높은 고객을 찾는 것이므로 1) 상환을 잘 한 고객을 먼저 추출하고(우수고객) 2) 우수고객과 유사한 고객을 추리는 것이 낫겠다.